<div class="space-y-8 pt-8 pb-32">
  <!-- Header: Back Button | Title -->
  <header class="flex items-center gap-4">
    <%= link_to prototype_home_path, class: "w-10 h-10 rounded-2xl bg-white/5 flex items-center justify-center text-slate-400 hover:text-white transition-colors app-tap-active" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"/>
      </svg>
    <% end %>
    <h1 class="text-2xl font-black text-white">앱 설치 가이드</h1>
  </header>

  <!-- Hero Banner -->
  <div class="relative w-full aspect-[16/9] bg-gradient-to-br from-indigo-900/20 to-purple-900/20 rounded-[32px] border border-white/10 overflow-hidden flex flex-col items-center justify-center text-center p-6">
    <!-- Background Sparkles (Visual only) -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute top-1/4 left-1/4 w-32 h-32 bg-indigo-500/20 blur-3xl rounded-full"></div>
      <div class="absolute bottom-1/4 right-1/4 w-32 h-32 bg-purple-500/20 blur-3xl rounded-full"></div>
    </div>
    
    <div class="w-16 h-16 rounded-[24px] bg-white flex items-center justify-center p-2.5 shadow-2xl mb-4 relative z-10">
      <%= image_tag "rf_official_logo.png", class: "w-full h-full object-contain" %>
    </div>
    <h2 class="text-xl font-black text-white mb-2 relative z-10">내 폰안의 루틴 파인더스</h2>
    <p class="text-xs font-bold text-slate-400 leading-relaxed relative z-10">설치 없이 홈 화면에 추가만 하세요.<br/>앱과 동일한 경험을 선사합니다.</p>
  </div>

  <!-- OS Selection Tabs -->
  <div class="flex p-1.5 bg-white/5 rounded-2xl gap-1">
    <button id="btn-ios" onclick="switchPwaTab('ios')"
            class="flex-1 py-3.5 rounded-xl text-xs font-black transition-all flex items-center justify-center gap-2 bg-indigo-500 text-white shadow-lg shadow-indigo-500/20">
      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.1 2.48-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.89 1.22-2.11 1.09-3.33-1.04.04-2.3.7-3.04 1.57-.67.76-1.25 1.98-1.12 3.17 1.16.09 2.34-.52 3.07-1.41z"/></svg>
      iPhone
    </button>
    <button id="btn-android" onclick="switchPwaTab('android')"
            class="flex-1 py-3.5 rounded-xl text-xs font-black transition-all flex items-center justify-center gap-2 bg-white/5 text-slate-500">
      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9997.9993-.9997c.5511 0 .9993.4486.9993.9997s-.4482.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9997.9993-.9997c.5511 0 .9993.4486.9993.9997s-.4482.9997-.9993.9997m11.4045-6.0264l1.715-2.9725a.326.326 0 0 0-.119-.4446.327.327 0 0 0-.446.1188l-1.7481 3.0298C15.3418 8.4231 13.734 8.0467 12 8.0467s-3.3418.3764-4.8828 1.0061l-1.7481-3.0298a.3274.3274 0 0 0-.446-.1188.3262.3262 0 0 0-.119.4446l1.715 2.9725C3.3429 11.1396 1.1332 14.0722 1.0024 17.6534h21.9952c-.1308-3.5812-2.3405-6.5138-5.5131-8.3384"/></svg>
      Android
    </button>
  </div>

  <!-- iOS Guide Content -->
  <div id="panel-ios" class="space-y-4">
    <div class="app-glass-card p-6 border-white/10 space-y-12">
      <!-- Step 1 -->
      <div class="flex gap-6 items-start relative">
        <div class="absolute top-12 left-6 bottom-[-32px] w-0.5 bg-gradient-to-b from-indigo-500/50 to-transparent"></div>
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-indigo-400 shrink-0 shadow-lg">1</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">Safari 브라우저 실행</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            아이폰 기본 브라우저인 <span class="text-indigo-400">Safari</span>로 접속해주세요. (네이버/카카오 브라우저에서는 기능이 작동하지 않습니다)
          </p>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="flex gap-6 items-start relative">
        <div class="absolute top-12 left-6 bottom-[-32px] w-0.5 bg-gradient-to-b from-indigo-500/50 to-transparent"></div>
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-indigo-400 shrink-0 shadow-lg">2</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">'공유' 버튼 탭</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            하단 바 중앙의 <span class="p-1 px-2 rounded-lg bg-white/5 text-white inline-flex items-center gap-1 shadow-sm"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg> 공유 버튼</span> 아이콘을 누릅니다.
          </p>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="flex gap-6 items-start">
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-indigo-400 shrink-0 shadow-lg">3</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">'홈 화면에 추가' 선택</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            리스트를 아래로 스크롤하여 <span class="text-white font-black underline decoration-indigo-500/50">'홈 화면에 추가'</span>를 클릭하면 완료!
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Android Guide Content -->
  <div id="panel-android" class="space-y-4 hidden">
    <div class="app-glass-card p-6 border-white/10 space-y-12">
      <!-- Step 1 -->
      <div class="flex gap-6 items-start relative">
        <div class="absolute top-12 left-6 bottom-[-32px] w-0.5 bg-gradient-to-b from-emerald-500/50 to-transparent"></div>
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-emerald-400 shrink-0 shadow-lg">1</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">Chrome 브라우저 실행</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            <span class="text-emerald-400">Chrome</span> 또는 삼성 인터넷 브라우저로 접속해주세요.
          </p>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="flex gap-6 items-start relative">
        <div class="absolute top-12 left-6 bottom-[-32px] w-0.5 bg-gradient-to-b from-emerald-500/50 to-transparent"></div>
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-emerald-400 shrink-0 shadow-lg">2</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">'메뉴' 버튼 탭</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            우측 상단 또는 하단의 <span class="p-1 px-2 rounded-lg bg-white/5 text-white inline-flex items-center gap-1 shadow-sm">⋮ 메뉴</span> 아이콘을 누릅니다.
          </p>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="flex gap-6 items-start">
        <div class="w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-black text-emerald-400 shrink-0 shadow-lg">3</div>
        <div class="space-y-2">
          <h4 class="text-sm font-black text-white">'앱 설치' 선택</h4>
          <p class="text-[11px] font-bold text-slate-400 leading-relaxed">
            <span class="text-white font-black underline decoration-emerald-500/50">'앱 설치'</span> 또는 <span class="text-white font-black underline decoration-emerald-500/50">'홈 화면에 추가'</span>를 클릭합니다.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Benefits Section -->
  <div class="space-y-4">
    <h3 class="text-sm font-black text-white pl-1">앱으로 사용하면 더 좋은 이유</h3>
    <div class="grid grid-cols-2 gap-3">
      <div class="app-glass-card p-5 border-white/5 bg-gradient-to-br from-indigo-500/5 to-transparent">
        <div class="w-8 h-8 rounded-xl bg-indigo-500/20 text-indigo-400 flex items-center justify-center mb-3">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
        </div>
        <h4 class="text-xs font-black text-white mb-1">빠른 기동</h4>
        <p class="text-[9px] font-bold text-slate-500 leading-relaxed">주소 입력 없이 클릭 한 번으로 바로 접속</p>
      </div>
      <div class="app-glass-card p-5 border-white/5 bg-gradient-to-br from-purple-500/5 to-transparent">
        <div class="w-8 h-8 rounded-xl bg-purple-500/20 text-purple-400 flex items-center justify-center mb-3">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/></svg>
        </div>
        <h4 class="text-xs font-black text-white mb-1">풀 스크린</h4>
        <p class="text-[9px] font-bold text-slate-500 leading-relaxed">브라우저 툴바 없이 더 넓은 화면 경험</p>
      </div>
    </div>
  </div>

  <!-- Copy URL Button (Convenience) -->
  <button onclick="navigator.clipboard.writeText('https://www.routinefinders.life/').then(() => alert('공식 서비스 주소가 복사되었습니다! Safari나 Chrome 앱을 열고 주소창에 붙여넣어주세요.'))"
          class="w-full py-4 rounded-2xl bg-white text-[#0C0B12] font-black text-sm shadow-xl shadow-white/10 active:scale-95 transition-all">
    현재 주소 복사하기
  </button>
</div>

<script>
  window.switchPwaTab = function(os) {
    const iosBtn = document.getElementById('btn-ios');
    const androidBtn = document.getElementById('btn-android');
    const iosPanel = document.getElementById('panel-ios');
    const androidPanel = document.getElementById('panel-android');
    
    // Inactive Style
    const inactiveClass = "flex-1 py-3.5 rounded-xl text-xs font-black transition-all flex items-center justify-center gap-2 bg-white/5 text-slate-500";

    if (os === 'ios') {
       // iPhone Active
       iosBtn.className = "flex-1 py-3.5 rounded-xl text-xs font-black transition-all flex items-center justify-center gap-2 bg-indigo-500 text-white shadow-lg shadow-indigo-500/20";
       androidBtn.className = inactiveClass;
       
       iosPanel.classList.remove('hidden');
       androidPanel.classList.add('hidden');
    } else {
       // Android Active
       androidBtn.className = "flex-1 py-3.5 rounded-xl text-xs font-black transition-all flex items-center justify-center gap-2 bg-emerald-500 text-white shadow-lg shadow-emerald-500/20";
       iosBtn.className = inactiveClass;
       
       androidPanel.classList.remove('hidden');
       iosPanel.classList.add('hidden');
    }
  }
</script>
