<div class="space-y-10">
  <!-- Main Description -->
  <!-- Rewards & Benefits -->
  <% if challenge.reward_policy.present? && JSON.parse(challenge.reward_policy).any? %>
    <div class="space-y-6">
      <h2 class="text-2xl font-black text-slate-900 flex items-center gap-3">
        <div class="w-10 h-10 bg-amber-50 rounded-2xl flex items-center justify-center text-amber-600">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2M17 16v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m3-5v3m4-3v3m-2-6V5a2 2 0 114 0v2"/></svg>
        </div>
        챌린지 우승 혜택
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <% JSON.parse(challenge.reward_policy).each do |reward| %>
          <div class="p-6 bg-white rounded-[32px] border border-slate-100 shadow-sm flex items-start gap-5 hover:shadow-md transition-all group">
            <div class="w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center shrink-0 group-hover:bg-amber-50 transition-colors">
              <% if reward["rank"].include?("1") || reward["rank"].downcase.include?("first") %>
                <span class="text-2xl">🥇</span>
              <% elsif reward["rank"].include?("2") || reward["rank"].downcase.include?("second") %>
                <span class="text-2xl">🥈</span>
              <% elsif reward["rank"].include?("3") || reward["rank"].downcase.include?("third") %>
                <span class="text-2xl">🥉</span>
              <% else %>
                <span class="text-2xl">🎁</span>
              <% end %>
            </div>
            <div class="space-y-1">
              <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest"><%= reward["rank"] %></p>
              <p class="text-lg font-black text-slate-900 line-clamp-2"><%= reward["prize"] %></p>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <div class="prose prose-slate max-w-none">
    <div class="space-y-6">
      <h2 class="text-2xl font-black text-slate-900">챌린지 상세 소개</h2>
      
      <div class="text-slate-600 leading-relaxed space-y-4 font-medium">
        <p><%= challenge.description %></p>
        
        <% if challenge.description.length < 200 %>
          <div class="mt-8 p-8 bg-slate-50 rounded-[32px] border border-slate-100 space-y-6">
            <h3 class="font-black text-slate-900 text-lg">✨ 이런 분들께 추천해요!</h3>
            <ul class="space-y-3">
              <li class="flex items-center gap-3">
                <div class="w-6 h-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
                </div>
                <span class="text-sm">매일매일 조금씩이라도 성장하고 싶은 분</span>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-6 h-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
                </div>
                <span class="text-sm">혼자서는 의지가 약해져 중도 포기하기 쉬운 분</span>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-6 h-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
                </div>
                <span class="text-sm">같은 목표를 가진 사람들과 긍정적인 에너지를 나누고 싶은 분</span>
              </li>
            </ul>
          </div>

          <div class="space-y-4">
            <h3 class="font-black text-slate-900 text-lg">🎯 챌린지 참여 후 변화될 모습</h3>
            <p>이 챌린지를 완주하고 나면, 당신은 단순한 습관 형성을 넘어 스스로를 통제하고 관리하는 **'자기 주도적 삶'**에 한 걸음 더 다가가게 될 것입니다. 보증금을 걸고 참여하는 만큼 서로에게 강력한 동기부여가 되며, 끝까지 포기하지 않도록 호스트가 함께하겠습니다.</p>
          </div>

          <div class="p-6 border-l-4 border-indigo-500 bg-indigo-50 rounded-r-2xl">
            <p class="text-indigo-900 font-bold italic">"작은 습관이 모여 위대한 변화를 만듭니다. 지금 바로 루틴 파인더와 함께 시작해보세요!"</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <% if challenge.offline? && challenge.meeting_info %>
    <!-- Offline Meeting Info (Styled) -->
    <div class="bg-orange-50 rounded-[40px] border border-orange-100 p-8 lg:p-10 space-y-8">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-black text-orange-900 flex items-center gap-3">
          <div class="w-10 h-10 bg-orange-200 rounded-2xl flex items-center justify-center text-orange-600">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657 13.414 20.9a1.998 1.998 0 0 1-2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/></svg>
          </div>
          오프라인 모임 정보
        </h2>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="space-y-2">
          <p class="text-[11px] font-black text-orange-600/60 uppercase tracking-widest">장소 및 주소</p>
          <p class="text-xl font-black text-orange-900"><%= challenge.meeting_info.place_name %></p>
          <p class="text-sm font-medium text-orange-800/70"><%= challenge.meeting_info.address %></p>
          <button class="mt-3 px-4 py-2 bg-white text-orange-600 rounded-xl text-xs font-bold border border-orange-100 shadow-sm hover:shadow-md transition-all">지도 보기</button>
        </div>
        <div class="space-y-2 border-l border-orange-200/50 pl-8">
          <p class="text-[11px] font-black text-orange-600/60 uppercase tracking-widest">정기 모임 시간</p>
          <p class="text-xl font-black text-orange-900"><%= challenge.meeting_info.meeting_time %></p>
          <p class="text-sm font-medium text-orange-800/70">최대 인원: <%= challenge.meeting_info.max_attendees %>명</p>
        </div>
      </div>

      <% if challenge.meeting_info.description.present? %>
        <div class="p-6 bg-white/50 rounded-3xl border border-white/50">
          <p class="text-sm font-medium text-orange-800 leading-relaxed italic">
            "<%= challenge.meeting_info.description %>"
          </p>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
