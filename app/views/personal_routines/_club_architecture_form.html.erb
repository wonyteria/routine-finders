<div class="space-y-8">
  <div class="flex items-center justify-between px-2">
    <div>
      <h3 class="text-xs font-black text-indigo-400 uppercase tracking-widest leading-none mb-2">Routine Engineering</h3>
      <h2 class="text-2xl font-black text-white">루틴 설계소</h2>
    </div>
  </div>

  <div class="bg-slate-900 border border-white/5 rounded-[40px] p-8 space-y-8">
    <div class="flex items-start gap-4 p-5 bg-indigo-500/10 rounded-3xl border border-indigo-500/20">
      <span class="text-2xl">📐</span>
      <p class="text-[11px] md:text-xs font-bold text-indigo-200 leading-relaxed">
        루파 클럽의 루틴은 당신의 정체성을 만드는 최소 단위입니다.<br/>
        너무 거창한 목표보다는 '지속 가능한 사소함'에 집중하여 설계해보세요.
      </p>
    </div>

    <!-- Active Routines List with Management -->
    <div class="space-y-4">
      <h4 class="text-[10px] font-black text-slate-500 uppercase tracking-widest px-2">현재 설계된 루틴 (<%= @personal_routines.count %>)</h4>
      <div class="divide-y divide-white/5 bg-white/5 rounded-[32px] overflow-hidden">
        <% @personal_routines.each do |routine| %>
          <div class="p-6 flex items-center justify-between group">
            <div class="flex items-center gap-4">
              <span class="text-2xl"><%= routine.icon %></span>
              <div>
                <p class="text-sm font-black text-white"><%= routine.title %></p>
                <div class="flex gap-1 mt-1">
                  <% ['1','2','3','4','5','6','0'].each do |d| %>
                    <span class="w-1 h-3 rounded-full <%= (routine.days || []).include?(d) ? 'bg-indigo-500' : 'bg-white/10' %>"></span>
                  <% end %>
                </div>
              </div>
            </div>
            <div class="flex items-center gap-2">
               <%= link_to edit_personal_routine_path(routine), class: "w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-slate-500 hover:bg-white/10 hover:text-white transition-all" do %>
                 <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
               <% end %>
               <%= button_to personal_routine_path(routine), method: :delete, class: "w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-rose-500/50 hover:bg-rose-500/10 hover:text-rose-500 transition-all", data: { confirm: "정말 삭제하시겠습니까?" } do %>
                 <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
               <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Add New Routine Button (Premium Style) -->
    <%= link_to new_personal_routine_path(source: 'club'), class: "block w-full py-5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-[28px] text-center font-black text-white text-sm shadow-xl shadow-indigo-900/30 hover:scale-[1.02] active:scale-[0.98] transition-all" do %>
      + 새로운 성장의 씨앗(루틴) 심기
    <% end %>
  </div>
</div>
