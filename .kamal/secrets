#!/usr/bin/env bash

# Kamal Secrets Configuration
# This file MUST exist for Kamal to work
# Values are read from environment variables set by GitHub Actions or locally

# Fail if required secrets are not set
if [ -z "$KAMAL_REGISTRY_PASSWORD" ]; then
  echo "Error: KAMAL_REGISTRY_PASSWORD is not set"
  exit 1
fi

if [ -z "$RAILS_MASTER_KEY" ]; then
  echo "Error: RAILS_MASTER_KEY is not set"
  exit 1
fi

# Export all secrets
export KAMAL_REGISTRY_PASSWORD
export RAILS_MASTER_KEY
export KAKAO_CLIENT_SECRET
export GOOGLE_CLIENT_SECRET
export THREADS_CLIENT_SECRET
